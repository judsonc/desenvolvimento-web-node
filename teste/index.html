<!DOCTYPE html>
<head>
  <meta charset='utf-8'>
  <title>Home</title>
</head>
<body>
  <h1>Teste Socket.io</h1>
  <p>Olhe o console do navegador</p>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js'></script>
  <script type='text/javascript'>
    const socket = io('http://localhost:3001')
    socket.on('connect', () => console.log('Conectado!'))

    // Retorna todos os tweets
    socket.emit('pedirTweets')
    socket.on('todosTweets', (data) => console.log('todosTweets - ', data))

    // Insere um tweet
    const novoTweet = {
      usuario: {
    		nome      : 'João',
    		sobrenome : 'Silva',
        foto      : 'http://placehold.it/100x100',
    	},
    	texto: 'É hoje!!!',
    }
    // socket.emit('novoTweet', novoTweet)

    // Curte um tweet
    const idTweet = {
      id : 1493172485916 // Subsitua o id corretamente
    }
    socket.emit('curtirTweet', idTweet)

    // #################
    // #### WARNING ####
    // Faça emit('curtirTweet') apenas se já tiver dado emit('novoTweet') e vice-versa.
    // Ou seja, faça um desses dois emits por vez.
    // #################
  </script>
</body>
